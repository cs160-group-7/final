{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _jestWatcher() {\n  const data = require('jest-watcher');\n\n  _jestWatcher = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _SnapshotInteractiveMode = _interopRequireDefault(require('../SnapshotInteractiveMode'));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* eslint-disable local/ban-types-eventually */\n\n\nclass UpdateSnapshotInteractivePlugin extends _jestWatcher().BaseWatchPlugin {\n  _snapshotInteractiveMode = new _SnapshotInteractiveMode.default(this._stdout);\n  _failedSnapshotTestAssertions = [];\n  isInternal = true;\n\n  getFailedSnapshotTestAssertions(testResults) {\n    const failedTestPaths = [];\n\n    if (testResults.numFailedTests === 0 || !testResults.testResults) {\n      return failedTestPaths;\n    }\n\n    testResults.testResults.forEach(testResult => {\n      if (testResult.snapshot && testResult.snapshot.unmatched) {\n        testResult.testResults.forEach(result => {\n          if (result.status === 'failed') {\n            failedTestPaths.push({\n              fullName: result.fullName,\n              path: testResult.testFilePath\n            });\n          }\n        });\n      }\n    });\n    return failedTestPaths;\n  }\n\n  apply(hooks) {\n    hooks.onTestRunComplete(results => {\n      this._failedSnapshotTestAssertions = this.getFailedSnapshotTestAssertions(results);\n\n      if (this._snapshotInteractiveMode.isActive()) {\n        this._snapshotInteractiveMode.updateWithResults(results);\n      }\n    });\n  }\n\n  onKey(key) {\n    if (this._snapshotInteractiveMode.isActive()) {\n      this._snapshotInteractiveMode.put(key);\n    }\n  }\n\n  run(_globalConfig, updateConfigAndRun) {\n    if (this._failedSnapshotTestAssertions.length) {\n      return new Promise(res => {\n        this._snapshotInteractiveMode.run(this._failedSnapshotTestAssertions, (assertion, shouldUpdateSnapshot) => {\n          updateConfigAndRun({\n            mode: 'watch',\n            testNamePattern: assertion ? `^${assertion.fullName}$` : '',\n            testPathPattern: assertion ? assertion.path : '',\n            updateSnapshot: shouldUpdateSnapshot ? 'all' : 'none'\n          });\n\n          if (!this._snapshotInteractiveMode.isActive()) {\n            res();\n          }\n        });\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  getUsageInfo() {\n    var _this$_failedSnapshot;\n\n    if (((_this$_failedSnapshot = this._failedSnapshotTestAssertions) === null || _this$_failedSnapshot === void 0 ? void 0 : _this$_failedSnapshot.length) > 0) {\n      return {\n        key: 'i',\n        prompt: 'update failing snapshots interactively'\n      };\n    }\n\n    return null;\n  }\n\n}\n\nvar _default = UpdateSnapshotInteractivePlugin;\nexports.default = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_jestWatcher","data","require","_SnapshotInteractiveMode","_interopRequireDefault","obj","__esModule","UpdateSnapshotInteractivePlugin","BaseWatchPlugin","_snapshotInteractiveMode","_stdout","_failedSnapshotTestAssertions","isInternal","getFailedSnapshotTestAssertions","testResults","failedTestPaths","numFailedTests","forEach","testResult","snapshot","unmatched","result","status","push","fullName","path","testFilePath","apply","hooks","onTestRunComplete","results","isActive","updateWithResults","onKey","key","put","run","_globalConfig","updateConfigAndRun","length","Promise","res","assertion","shouldUpdateSnapshot","mode","testNamePattern","testPathPattern","updateSnapshot","resolve","getUsageInfo","_this$_failedSnapshot","prompt","_default"],"sources":["/Users/wonjaelee/Desktop/final/node_modules/@jest/core/build/plugins/UpdateSnapshotsInteractive.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nfunction _jestWatcher() {\n  const data = require('jest-watcher');\n\n  _jestWatcher = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _SnapshotInteractiveMode = _interopRequireDefault(\n  require('../SnapshotInteractiveMode')\n);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {default: obj};\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* eslint-disable local/ban-types-eventually */\nclass UpdateSnapshotInteractivePlugin extends _jestWatcher().BaseWatchPlugin {\n  _snapshotInteractiveMode = new _SnapshotInteractiveMode.default(this._stdout);\n  _failedSnapshotTestAssertions = [];\n  isInternal = true;\n\n  getFailedSnapshotTestAssertions(testResults) {\n    const failedTestPaths = [];\n\n    if (testResults.numFailedTests === 0 || !testResults.testResults) {\n      return failedTestPaths;\n    }\n\n    testResults.testResults.forEach(testResult => {\n      if (testResult.snapshot && testResult.snapshot.unmatched) {\n        testResult.testResults.forEach(result => {\n          if (result.status === 'failed') {\n            failedTestPaths.push({\n              fullName: result.fullName,\n              path: testResult.testFilePath\n            });\n          }\n        });\n      }\n    });\n    return failedTestPaths;\n  }\n\n  apply(hooks) {\n    hooks.onTestRunComplete(results => {\n      this._failedSnapshotTestAssertions =\n        this.getFailedSnapshotTestAssertions(results);\n\n      if (this._snapshotInteractiveMode.isActive()) {\n        this._snapshotInteractiveMode.updateWithResults(results);\n      }\n    });\n  }\n\n  onKey(key) {\n    if (this._snapshotInteractiveMode.isActive()) {\n      this._snapshotInteractiveMode.put(key);\n    }\n  }\n\n  run(_globalConfig, updateConfigAndRun) {\n    if (this._failedSnapshotTestAssertions.length) {\n      return new Promise(res => {\n        this._snapshotInteractiveMode.run(\n          this._failedSnapshotTestAssertions,\n          (assertion, shouldUpdateSnapshot) => {\n            updateConfigAndRun({\n              mode: 'watch',\n              testNamePattern: assertion ? `^${assertion.fullName}$` : '',\n              testPathPattern: assertion ? assertion.path : '',\n              updateSnapshot: shouldUpdateSnapshot ? 'all' : 'none'\n            });\n\n            if (!this._snapshotInteractiveMode.isActive()) {\n              res();\n            }\n          }\n        );\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  getUsageInfo() {\n    var _this$_failedSnapshot;\n\n    if (\n      ((_this$_failedSnapshot = this._failedSnapshotTestAssertions) === null ||\n      _this$_failedSnapshot === void 0\n        ? void 0\n        : _this$_failedSnapshot.length) > 0\n    ) {\n      return {\n        key: 'i',\n        prompt: 'update failing snapshots interactively'\n      };\n    }\n\n    return null;\n  }\n}\n\nvar _default = UpdateSnapshotInteractivePlugin;\nexports.default = _default;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}